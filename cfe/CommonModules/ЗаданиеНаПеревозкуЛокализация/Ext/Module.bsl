
//#Область ПрограммныйИнтерфейс

//#Область Печать

//// Формирует временную таблицу, содержащую табличную часть по таблице данных документов.
////
//// Параметры:
////	МенеджерВременныхТаблиц - МенеджерВременныхТаблиц - Менеджер временных таблиц.
////
//Процедура ВИЛС_ПоместитьВременнуюТаблицуТоваров(МенеджерВременныхТаблиц, Знач ТекущееЗаданиеНаПеревозку) Экспорт
//	
//	Запрос = Новый Запрос;
//	Запрос.МенеджерВременныхТаблиц = МенеджерВременныхТаблиц;
//	Запрос.УстановитьПараметр("ТекущееЗаданиеНаПеревозку", ТекущееЗаданиеНаПеревозку);          // fix Suetin 20.09.2019 16:03:56
//	Запрос.Текст = "
//	|ВЫБРАТЬ РАЗЛИЧНЫЕ
//	|	Распоряжения.Ссылка 		КАК Задание,
//	|	Распоряжения.Распоряжение 	КАК Распоряжение,
//	|	Маршрут.Адрес				КАК АдресДоставки
//	|ПОМЕСТИТЬ Распоряжения
//	|ИЗ
//	|	ТаблицаДанныхДокументов КАК ТаблицаДанныхДокументов
//	|		ВНУТРЕННЕЕ СОЕДИНЕНИЕ Документ.ЗаданиеНаПеревозку.Распоряжения КАК Распоряжения
//	|		ПО (ТаблицаДанныхДокументов.Ссылка = Распоряжения.Распоряжение)       	// begin fix Suetin 20.09.2019 16:04:03   Ссылка ->   Распоряжение
//	|			И (Распоряжения.Ссылка = &ТекущееЗаданиеНаПеревозку)
//	|		ВНУТРЕННЕЕ СОЕДИНЕНИЕ Документ.ЗаданиеНаПеревозку.Маршрут КАК Маршрут
//	|		ПО (Распоряжения.Ссылка = Маршрут.Ссылка)
//	|			И (Распоряжения.КлючСвязи = Маршрут.КлючСвязи)						// end fix Suetin 23.09.2019 12:26:56
//	|;
//	|";
//	Запрос.Выполнить();
//	ВИЛС_ПоместитьВременнуюТаблицуТоваровПродолжение(МенеджерВременныхТаблиц);
//КонецПроцедуры	
//	
//Процедура ВИЛС_ПоместитьВременнуюТаблицуТоваровПродолжение(МенеджерВременныхТаблиц) Экспорт
//	Запрос = Новый Запрос;
//	Запрос.МенеджерВременныхТаблиц = МенеджерВременныхТаблиц;
//	Запрос.Текст = "
//	|////////////////////////////////////////////////////////////////////////////////
//	|ВЫБРАТЬ
//	|	Распоряжения.Задание КАК Задание,
//	|	Распоряжения.Распоряжение КАК Распоряжение,
//	|	Распоряжения.АдресДоставки КАК АдресДоставки,
//	|	ЗаказТовары.НомерСтроки КАК НомерСтроки,
//	|	ЗаказТовары.Номенклатура КАК Номенклатура,
//	|	ЗаказТовары.Характеристика КАК Характеристика,
//	|	ЗНАЧЕНИЕ(Справочник.СерииНоменклатуры.ПустаяСсылка) КАК Серия,
//	|	ЗаказТовары.Номенклатура.ЕдиницаИзмерения КАК ЕдиницаИзмерения,
//	|	ЗаказТовары.Количество КАК Количество,
//	|	ЗаказТовары.Сумма КАК СуммаБезНДС,
//	|	ЗаказТовары.СтавкаНДС КАК СтавкаНДС,
//	|	ЗаказТовары.СуммаНДС КАК СуммаНДС,
//	|	ИСТИНА КАК ВсеТовары
//	|ПОМЕСТИТЬ ТаблицаТоварыВЗаказах
//	|ИЗ
//	|	Распоряжения КАК Распоряжения
//	|		ЛЕВОЕ СОЕДИНЕНИЕ Документ.ЗаказПоставщику.Товары КАК ЗаказТовары
//	|		ПО Распоряжения.Распоряжение = ЗаказТовары.Ссылка
//	|;
//	|
//	|////////////////////////////////////////////////////////////////////////////////
//	|ВЫБРАТЬ
//	|	Распоряжения.Задание КАК Задание,
//	|	Распоряжения.Распоряжение КАК Распоряжение,
//	|	Распоряжения.АдресДоставки КАК АдресДоставки,
//	|	0 КАК НомерСтроки,
//	|	ТоварыКДоставке.Номенклатура КАК Номенклатура,
//	|	ТоварыКДоставке.Характеристика КАК Характеристика,
//	|	ТоварыКДоставке.Серия КАК Серия,
//	|	ТоварыКДоставке.Номенклатура.ЕдиницаИзмерения КАК ЕдиницаИзмерения,
//	|	ТоварыКДоставке.Количество КАК Количество,
//	|	ТаблицаТоварыВЗаказах.СуммаБезНДС КАК СуммаБезНДС,
//	|	ТаблицаТоварыВЗаказах.СтавкаНДС КАК СтавкаНДС,
//	|	ТаблицаТоварыВЗаказах.СуммаНДС КАК СуммаНДС,
//	|	ТоварыКДоставке.ВсеТовары КАК ВсеТовары
//	|ПОМЕСТИТЬ ТаблицаТоварыКДоставке
//	|ИЗ
//	|	Распоряжения КАК Распоряжения
//	|		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.ТоварыКДоставке КАК ТоварыКДоставке
//	|		ПО Распоряжения.Задание = ТоварыКДоставке.ЗаданиеНаПеревозку
//	|			И Распоряжения.Распоряжение = ТоварыКДоставке.Распоряжение
//	|		ЛЕВОЕ СОЕДИНЕНИЕ ТаблицаТоварыВЗаказах КАК ТаблицаТоварыВЗаказах
//	|		ПО (ТоварыКДоставке.ЗаданиеНаПеревозку = ТаблицаТоварыВЗаказах.Задание)
//	|			И (ТоварыКДоставке.Распоряжение = ТаблицаТоварыВЗаказах.Распоряжение)
//	|			И (ТоварыКДоставке.Номенклатура = ТаблицаТоварыВЗаказах.Номенклатура)
//	|			И (ТоварыКДоставке.Характеристика = ТаблицаТоварыВЗаказах.Характеристика)
//	|;
//	|
//	|////////////////////////////////////////////////////////////////////////////////
//	|ВЫБРАТЬ
//	|	ТаблицаТоварыКДоставке.Задание КАК Задание,
//	|	ТаблицаТоварыКДоставке.Распоряжение КАК Распоряжение,
//	|	ТаблицаТоварыКДоставке.АдресДоставки КАК АдресДоставки,
//	|	ТаблицаТоварыКДоставке.НомерСтроки КАК НомерСтроки,
//	|	ТаблицаТоварыКДоставке.Номенклатура КАК Номенклатура,
//	|	ТаблицаТоварыКДоставке.Характеристика КАК Характеристика,
//	|	ТаблицаТоварыКДоставке.Серия КАК Серия,
//	|	ТаблицаТоварыКДоставке.ЕдиницаИзмерения КАК ЕдиницаИзмерения,
//	|	ТаблицаТоварыКДоставке.Количество КАК Количество,
//	|	ТаблицаТоварыКДоставке.СуммаБезНДС КАК СуммаБезНДС,
//	|	ТаблицаТоварыКДоставке.СтавкаНДС КАК СтавкаНДС,
//	|	ТаблицаТоварыКДоставке.СуммаНДС КАК СуммаНДС,
//	|	ТаблицаТоварыКДоставке.ВсеТовары КАК ВсеТовары
//	|ПОМЕСТИТЬ ТаблицаТоваров
//	|ИЗ
//	|	ТаблицаТоварыКДоставке КАК ТаблицаТоварыКДоставке
//	|ГДЕ
//	|	ТаблицаТоварыКДоставке.ВсеТовары = ЛОЖЬ
//	|
//	|ОБЪЕДИНИТЬ ВСЕ
//	|
//	|ВЫБРАТЬ
//	|	ТаблицаТоварыВЗаказах.Задание,
//	|	ТаблицаТоварыВЗаказах.Распоряжение,
//	|	ТаблицаТоварыВЗаказах.АдресДоставки,
//	|	ТаблицаТоварыВЗаказах.НомерСтроки,
//	|	ТаблицаТоварыВЗаказах.Номенклатура,
//	|	ТаблицаТоварыВЗаказах.Характеристика,
//	|	ТаблицаТоварыВЗаказах.Серия,
//	|	ТаблицаТоварыВЗаказах.ЕдиницаИзмерения,
//	|	ТаблицаТоварыВЗаказах.Количество,
//	|	ТаблицаТоварыВЗаказах.СуммаБезНДС,
//	|	ТаблицаТоварыВЗаказах.СтавкаНДС,
//	|	ТаблицаТоварыВЗаказах.СуммаНДС,
//	|	ТаблицаТоварыВЗаказах.ВсеТовары
//	|ИЗ
//	|	(ВЫБРАТЬ
//	|		ТаблицаТоварыКДоставке.Задание КАК Задание,
//	|		ТаблицаТоварыКДоставке.Распоряжение КАК Распоряжение,
//	|		ТаблицаТоварыКДоставке.АдресДоставки КАК АдресДоставки,
//	|		МАКСИМУМ(ТаблицаТоварыКДоставке.ВсеТовары) КАК ВсеТовары
//	|	ИЗ
//	|		ТаблицаТоварыКДоставке КАК ТаблицаТоварыКДоставке
//	|	ГДЕ
//	|		ТаблицаТоварыКДоставке.ВсеТовары = ИСТИНА
//	|	
//	|	СГРУППИРОВАТЬ ПО
//	|		ТаблицаТоварыКДоставке.Задание,
//	|		ТаблицаТоварыКДоставке.Распоряжение,
//	|		ТаблицаТоварыКДоставке.АдресДоставки) КАК ТаблицаТоварыКДоставке
//	|		ВНУТРЕННЕЕ СОЕДИНЕНИЕ ТаблицаТоварыВЗаказах КАК ТаблицаТоварыВЗаказах
//	|		ПО ТаблицаТоварыКДоставке.Задание = ТаблицаТоварыВЗаказах.Задание
//	|			И ТаблицаТоварыКДоставке.Распоряжение = ТаблицаТоварыВЗаказах.Распоряжение
//	|			И ТаблицаТоварыКДоставке.ВсеТовары = ТаблицаТоварыВЗаказах.ВсеТовары
//	|;
//	|
//	|////////////////////////////////////////////////////////////////////////////////
//	|ВЫБРАТЬ
//	|	ТаблицаТоваров.Задание КАК Ссылка,
//	|	ТаблицаТоваров.Распоряжение КАК Распоряжение,
//	|	ТаблицаТоваров.АдресДоставки КАК АдресДоставки,
//	|	ТаблицаТоваров.НомерСтроки КАК НомерСтроки,
//	|	ТаблицаТоваров.Номенклатура КАК Номенклатура,
//	|	ТаблицаТоваров.Характеристика КАК Характеристика,
//	|	ТаблицаТоваров.Серия КАК Серия,
//	|	ТаблицаТоваров.Количество КАК Количество,
//	|	ТаблицаТоваров.Количество КАК КоличествоУпаковок,
//	|	ТаблицаТоваров.СуммаБезНДС КАК СуммаБезНДС,
//	|	ТаблицаТоваров.СтавкаНДС КАК СтавкаНДС,
//	|	ТаблицаТоваров.СуммаНДС КАК СуммаНДС,
//	|	ЛОЖЬ КАК ЭтоТовар,
//	|	ЛОЖЬ КАК ЭтоНеВозвратнаяТара,
//	|	ТаблицаТоваров.ЕдиницаИзмерения КАК Упаковка
//	|ПОМЕСТИТЬ ЗаданиеНаПеревозкуТаблицаТоваров
//	|ИЗ
//	|	ТаблицаТоваров КАК ТаблицаТоваров
//	|ГДЕ
//	|	ТаблицаТоваров.Номенклатура.ТипНоменклатуры В (ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.Услуга), ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.Работа))
//	|
//	|ОБЪЕДИНИТЬ ВСЕ
//	|
//	|ВЫБРАТЬ
//	|	ТаблицаТоваров.Задание,
//	|	ТаблицаТоваров.Распоряжение,
//	|	ТаблицаТоваров.АдресДоставки,
//	|	ТаблицаТоваров.НомерСтроки,
//	|	ТаблицаТоваров.Номенклатура,
//	|	ТаблицаТоваров.Характеристика,
//	|	ТаблицаТоваров.Серия,
//	|	ТаблицаТоваров.Количество,
//	|	ТаблицаТоваров.Количество,
//	|	ТаблицаТоваров.СуммаБезНДС,
//	|	ТаблицаТоваров.СтавкаНДС,
//	|	ТаблицаТоваров.СуммаНДС,
//	|	ИСТИНА,
//	|	ВЫБОР
//	|		КОГДА ТаблицаТоваров.Номенклатура.ТипНоменклатуры = ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.МногооборотнаяТара)
//	|			ТОГДА ЛОЖЬ
//	|		ИНАЧЕ ИСТИНА
//	|	КОНЕЦ,
//	|	ТаблицаТоваров.ЕдиницаИзмерения
//	|ИЗ
//	|	ТаблицаТоваров КАК ТаблицаТоваров
//	|ГДЕ
//	|	НЕ ТаблицаТоваров.Номенклатура.ТипНоменклатуры В (ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.Услуга), ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.Работа))
//	|
//	|ИНДЕКСИРОВАТЬ ПО
//	|	Ссылка,
//	|	НомерСтроки
//	|;
//	|
//	|////////////////////////////////////////////////////////////////////////////////
//	|УНИЧТОЖИТЬ Распоряжения
//	|;
//	|
//	|////////////////////////////////////////////////////////////////////////////////
//	|УНИЧТОЖИТЬ ТаблицаТоварыВЗаказах
//	|;
//	|
//	|////////////////////////////////////////////////////////////////////////////////
//	|УНИЧТОЖИТЬ ТаблицаТоварыКДоставке
//	|;
//	|
//	|////////////////////////////////////////////////////////////////////////////////
//	|УНИЧТОЖИТЬ ТаблицаТоваров
//	|";
//	
//	Запрос.Выполнить();
//	
//КонецПроцедуры

//#КонецОбласти

//#КонецОбласти
